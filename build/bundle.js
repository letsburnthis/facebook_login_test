var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,l;function a(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function p(){return g(" ")}function h(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e){return""===e?null:+e}function $(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function y(e,t){e.value=null==t?"":t}function _(e){l=e}const x=[],v=[],k=[],w=[],E=Promise.resolve();let B=!1;function L(e){k.push(e)}let D=!1;const S=new Set;function A(){if(!D){D=!0;do{for(let e=0;e<x.length;e+=1){const t=x[e];_(t),C(t.$$)}for(_(null),x.length=0;v.length;)v.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];S.has(t)||(S.add(t),t())}k.length=0}while(x.length);for(;w.length;)w.pop()();B=!1,D=!1,S.clear()}}function C(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L)}}const T=new Set;function j(e,t){e&&e.i&&(T.delete(e),e.i(t))}const I="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function N(e,n,c,s){const{fragment:l,on_mount:a,on_destroy:i,after_update:u}=e.$$;l&&l.m(n,c),s||L((()=>{const n=a.map(t).filter(r);i?i.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(L)}function O(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function P(e,t){-1===e.$$.dirty[0]&&(x.push(e),B||(B=!0,E.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function F(t,r,c,s,a,i,f,d=[-1]){const g=l;_(t);const p=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(g?g.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:r.target||g.$$.root};f&&f(p.root);let h=!1;if(p.ctx=c?c(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),h&&P(t,e)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);p.fragment&&p.fragment.l(e),e.forEach(u)}else p.fragment&&p.fragment.c();r.intro&&j(t.$$.fragment),N(t,r.target,r.anchor,r.customElement),A()}_(g)}class z{$destroy(){O(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function G(e,t,n){const o=e.slice();return o[11]=t[n],o[12]=t,o[13]=n,o}function R(e){let t,n,r,c,s,l,a,f,$,_,x,v,k,w,E,B,L,D,S;function A(){e[7].call(n,e[12],e[13])}function C(){return e[8](e[13])}function T(){e[9].call(l,e[12],e[13])}return{c(){t=g("days before "),n=d("input"),r=p(),c=d("br"),s=p(),l=d("textarea"),a=p(),f=d("p"),f.textContent="A reminder will be posted at",$=p(),_=d("input"),v=p(),k=d("br"),w=p(),E=d("br"),B=p(),L=d("br"),m(n,"type","number"),m(_,"type","datetime-local"),_.value=x=e[11].reminderDate},m(o,u){i(o,t,u),i(o,n,u),y(n,e[11].daysBefore),i(o,r,u),i(o,c,u),i(o,s,u),i(o,l,u),y(l,e[11].text),i(o,a,u),i(o,f,u),i(o,$,u),i(o,_,u),i(o,v,u),i(o,k,u),i(o,w,u),i(o,E,u),i(o,B,u),i(o,L,u),D||(S=[h(n,"input",A),h(n,"change",C),h(l,"input",T)],D=!0)},p(t,o){e=t,1&o&&b(n.value)!==e[11].daysBefore&&y(n,e[11].daysBefore),1&o&&y(l,e[11].text),1&o&&x!==(x=e[11].reminderDate)&&(_.value=x)},d(e){e&&u(t),e&&u(n),e&&u(r),e&&u(c),e&&u(s),e&&u(l),e&&u(a),e&&u(f),e&&u($),e&&u(_),e&&u(v),e&&u(k),e&&u(w),e&&u(E),e&&u(B),e&&u(L),D=!1,o(S)}}}function U(t){let n,r,c,s,l,a,b,$,_,x,v,k,w,E,B,L,D,S,A,C=t[0],T=[];for(let e=0;e<C.length;e+=1)T[e]=R(G(t,C,e));return{c(){n=d("input"),r=p(),c=d("br"),s=p(),l=d("textarea"),a=p(),b=d("br"),$=p(),_=d("button"),_.textContent="add reminder",x=p(),v=d("br"),k=p(),w=d("br"),E=p(),B=d("br"),L=p();for(let e=0;e<T.length;e+=1)T[e].c();D=g(""),m(n,"type","datetime-local"),m(l,"rows","4"),m(l,"cols","50"),m(l,"placeholder","Enter event info...")},m(e,o){i(e,n,o),y(n,t[2]),i(e,r,o),i(e,c,o),i(e,s,o),i(e,l,o),y(l,t[1]),i(e,a,o),i(e,b,o),i(e,$,o),i(e,_,o),i(e,x,o),i(e,v,o),i(e,k,o),i(e,w,o),i(e,E,o),i(e,B,o),i(e,L,o);for(let t=0;t<T.length;t+=1)T[t].m(e,o);i(e,D,o),S||(A=[h(n,"input",t[5]),h(l,"input",t[6]),h(_,"click",t[3])],S=!0)},p(e,[t]){if(4&t&&y(n,e[2]),2&t&&y(l,e[1]),21&t){let n;for(C=e[0],n=0;n<C.length;n+=1){const o=G(e,C,n);T[n]?T[n].p(o,t):(T[n]=R(o),T[n].c(),T[n].m(D.parentNode,D))}for(;n<T.length;n+=1)T[n].d(1);T.length=C.length}},i:e,o:e,d(e){e&&u(n),e&&u(r),e&&u(c),e&&u(s),e&&u(l),e&&u(a),e&&u(b),e&&u($),e&&u(_),e&&u(x),e&&u(v),e&&u(k),e&&u(w),e&&u(E),e&&u(B),e&&u(L),f(T,e),e&&u(D),S=!1,o(A)}}}function q(e,t,n){let o="",r="",{reminderList:c=[]}=t;function s(e,t,o){console.log("started changing date"),console.log(e,t,o);let r,s=new Date(t);console.log(s),r=s.setDate(s.getDate()-e),r-=6e4*s.getTimezoneOffset(),console.log(r);let l=new Date(r);l=l.toISOString(),l=l.substring(0,l.length-5),n(0,c[o].reminderDate=l,c),console.log(c)}return e.$$set=e=>{"reminderList"in e&&n(0,c=e.reminderList)},[c,o,r,function(){if(""!=o&&""!=r){let e=c.length;console.log("index = "+e),c.push({text:o,reminderDate:r,daysBefore:3*e}),console.log(c),console.log(c[0].daysBefore),s(c[e].daysBefore,r,e),n(0,c),console.log(c)}else window.alert("You forgot something")},s,function(){r=this.value,n(2,r)},function(){o=this.value,n(1,o)},function(e,t){e[t].daysBefore=b(this.value),n(0,c)},e=>s(c[e].daysBefore,r,e),function(e,t){e[t].text=this.value,n(0,c)}]}class M extends z{constructor(e){super(),F(this,e,q,U,c,{reminderList:0})}}const{document:Y}=I;function H(e,t,n){const o=e.slice();return o[11]=t[n],o[13]=n,o}function J(e){let t,n,o,r,c,s,l,f,b,y,_,x=e[11].name+"";return{c(){t=d("label"),n=d("input"),s=p(),l=g(x),b=d("br"),m(n,"type","checkbox"),m(n,"id",o=e[13]),m(n,"name",r=e[11].name),n.value=c=e[11].name,m(t,"for",f=e[11].name)},m(o,r){i(o,t,r),a(t,n),a(t,s),a(t,l),i(o,b,r),y||(_=h(n,"click",e[5]),y=!0)},p(e,o){1&o&&r!==(r=e[11].name)&&m(n,"name",r),1&o&&c!==(c=e[11].name)&&(n.value=c),1&o&&x!==(x=e[11].name+"")&&$(l,x),1&o&&f!==(f=e[11].name)&&m(t,"for",f)},d(e){e&&u(t),e&&u(b),y=!1,_()}}}function K(t){let n;return{c(){n=g("Please select a Group to Post to")},m(e,t){i(e,n,t)},p:e,d(e){e&&u(n)}}}function Q(e){let t,n;return{c(){t=g("Schedule Posts to "),n=g(e[2])},m(e,o){i(e,t,o),i(e,n,o)},p(e,t){4&t&&$(n,e[2])},d(e){e&&u(t),e&&u(n)}}}function V(e){let t,n,r,c,l,g,b,$,y,_,x,k,E,B,L,D,S,A,C,I,P,F,z,G,R,U,q,V,X=e[0],Z=[];for(let t=0;t<X.length;t+=1)Z[t]=J(H(e,X,t));function ee(t){e[6](t)}let te={};function ne(e,t){return 0!=e[2].length?Q:K}void 0!==e[1]&&(te.reminderList=e[1]),F=new M({props:te}),v.push((()=>function(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}(F,"reminderList",ee)));let oe=ne(e),re=oe(e);return{c(){t=d("div"),n=p(),r=d("script"),l=p(),g=d("p"),g.textContent="Testing",b=p(),$=d("div"),y=p(),_=d("button"),_.textContent="get pages",x=p(),k=d("p"),k.textContent="Group(s)",E=p(),B=d("form");for(let e=0;e<Z.length;e+=1)Z[e].c();var e,o,a;L=p(),D=d("br"),S=p(),A=d("br"),C=p(),I=d("br"),P=p(),(e=F.$$.fragment)&&e.c(),G=p(),R=d("button"),re.c(),m(t,"id","fb-root"),r.async=!0,r.defer=!0,m(r,"crossorigin","anonymous"),o=r.src,a=c="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v12.0&appId=2028962140613517&autoLogAppEvents=1",s||(s=document.createElement("a")),s.href=a,o!==s.href&&m(r,"src","https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v12.0&appId=2028962140613517&autoLogAppEvents=1"),m(r,"nonce","6LFN0n44"),m($,"class","fb-login-button"),m($,"data-auto-logout-link","true"),m($,"data-scope","pages_manage_posts, pages_read_engagement, pages_manage_metadata"),m($,"data-width",""),m($,"data-size","large"),m($,"data-button-type","continue_with"),m($,"data-layout","default"),m($,"data-use-continue-as","false")},m(o,c){i(o,t,c),i(o,n,c),a(Y.head,r),i(o,l,c),i(o,g,c),i(o,b,c),i(o,$,c),i(o,y,c),i(o,_,c),i(o,x,c),i(o,k,c),i(o,E,c),i(o,B,c);for(let e=0;e<Z.length;e+=1)Z[e].m(B,null);i(o,L,c),i(o,D,c),i(o,S,c),i(o,A,c),i(o,C,c),i(o,I,c),i(o,P,c),N(F,o,c),i(o,G,c),i(o,R,c),re.m(R,null),U=!0,q||(V=[h(r,"load",W),h(_,"click",e[3]),h(R,"click",e[4])],q=!0)},p(e,[t]){if(33&t){let n;for(X=e[0],n=0;n<X.length;n+=1){const o=H(e,X,n);Z[n]?Z[n].p(o,t):(Z[n]=J(o),Z[n].c(),Z[n].m(B,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=X.length}const n={};var o;!z&&2&t&&(z=!0,n.reminderList=e[1],o=()=>z=!1,w.push(o)),F.$set(n),oe===(oe=ne(e))&&re?re.p(e,t):(re.d(1),re=oe(e),re&&(re.c(),re.m(R,null)))},i(e){U||(j(F.$$.fragment,e),U=!0)},o(e){!function(e,t,n,o){if(e&&e.o){if(T.has(e))return;T.add(e),(void 0).c.push((()=>{T.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}(F.$$.fragment,e),U=!1},d(e){e&&u(t),e&&u(n),u(r),e&&u(l),e&&u(g),e&&u(b),e&&u($),e&&u(y),e&&u(_),e&&u(x),e&&u(k),e&&u(E),e&&u(B),f(Z,e),e&&u(L),e&&u(D),e&&u(S),e&&u(A),e&&u(C),e&&u(I),e&&u(P),O(F,e),e&&u(G),e&&u(R),re.d(),q=!1,o(V)}}}function W(){}function X(e,t,n){let o,r,c,s=[],l=[];return[s,c,l,function(){console.log("getting pages"),console.log("checking login status"),FB.getLoginStatus((function(e){return"connected"===e.status?(console.log("user is logged in"),o=e.authResponse.accessToken,r=e.authResponse.userID,console.log(o,r),!0):(window.alert("need to log in."),!1)})),async function(){console.log("checking pages with access");const e=await fetch("https://graph.facebook.com/"+r+"/accounts?fields=name,access_token&access_token="+o),t=await e.json();console.log(t),n(0,s=await t.data),n(0,s),console.log(s)}()},async function(){console.log(c);let e=0;for(;e<s.length;){if(document.getElementById(e).checked){console.log("getting page access token"),console.log("gonna schedule posts to page"+s[e].name);let t=0;for(console.log("trying to schedule reminders");t<c.length;)FB.api("/"+s[e].id+"/feed","post",{published:"false",message:c[t].text,scheduled_publish_time:c[t].reminderDate,access_token:s[e].access_token},(function(e){console.log(e)})),t+=1}e+=1}},function(){let e=0;for(n(2,l=[]);e<s.length;){document.getElementById(e).checked&&l.push(s[e].name),e+=1}},function(e){c=e,n(1,c)}]}return new class extends z{constructor(e){super(),F(this,e,X,V,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
